<div *ngIf="letter; else noLetterFound" class="letter-detail">
  <!-- Editable input field for the subject -->
  <h2>
    <input type="text" [(ngModel)]="letter.subject" (ngModelChange)="onInputChange()" placeholder="Subject">
  </h2>

  <!-- Editable textarea for the content -->
  <div class="letter-section">
    <h3>Body</h3>
    <textarea [(ngModel)]="letter.content" (ngModelChange)="onInputChange()" placeholder="Content"></textarea>
  </div>

  <!-- Display created date, not editable -->
  <div class="letter-section">
    <h3>Created Date</h3>
    <p *ngIf="letter.createdDate; else notAvailable">{{ letter.createdDate | date:'medium' }}</p>
  </div>

  <!-- Display and update last modified date automatically on change -->
  <div class="letter-section">
    <h3>Last Modified Date</h3>
    <p *ngIf="letter.lastModifiedDate; else notAvailable">{{ letter.lastModifiedDate | date:'medium' }}</p>
  </div>

  <!-- Editable input field for the signature -->
  <div class="letter-section">
    <h3>Signature</h3>
    <input type="text" [(ngModel)]="letter.signature" (ngModelChange)="onInputChange()" placeholder="Signature">
  </div>

  <!-- Meta information, not editable -->
  <div class="letter-meta">
    <p><strong>Draft:</strong> {{ letter.draft ? 'Yes' : 'No' }}</p>
  </div>

  <!-- Conditionally display the Save button when changes are detected -->
  <button *ngIf="isChanged" (click)="saveChanges()">Save</button>
</div>
<button (click)="backToList()">Back to List</button>
<button (click)="deleteLetter()">Delete</button>

<app-confirmation-modal
  *ngIf="showConfirmation"
  [title]="'Confirm Deletion'"
  [message]="'Are you sure you want to delete this letter?'"
  (confirm)="confirmDelete()"
  (cancel)="cancelDelete()">
</app-confirmation-modal>

<ng-template #noLetterFound>
  <div class="no-letter">
    <p>No letter found. Please select a letter to view its details.</p>
  </div>
</ng-template>

<ng-template #notAvailable>
  <p>Not available</p>
</ng-template>
