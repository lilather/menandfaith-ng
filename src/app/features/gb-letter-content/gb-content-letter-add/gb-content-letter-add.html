
<div class="wrapper">
<div class="container mt-4">
  <!-- Title for the form -->
  <h2>Add a New Good Bye Letter</h2>

  <!-- Check if the form is defined to avoid errors -->
  <form *ngIf="contentLetterForm" [formGroup]="contentLetterForm" (ngSubmit)="onSubmit()">

    <!-- Subject Field -->
    <div class="form-group">
      <label for="subject">Subject</label>
      <input type="text" id="subject" class="form-control" formControlName="subject" placeholder="Enter the subject">
      <!-- Display validation error if the subject is not filled in -->
      <div *ngIf="contentLetterForm.get('subject')?.invalid && contentLetterForm.get('subject')?.touched" class="text-danger">
        Subject is required.
      </div>
    </div>

    <!-- Content Field -->
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content" class="form-control" formControlName="content" rows="5" placeholder="Write your content here..."></textarea>
      <!-- Display validation error if the content is not filled in -->
      <div *ngIf="contentLetterForm.get('content')?.invalid && contentLetterForm.get('content')?.touched" class="text-danger">
        Content is required.
      </div>
    </div>

    <!-- Signature Field -->
    <div class="form-group">
      <label for="signature">Signature</label>
      <input type="text" id="signature" class="form-control" formControlName="signature" placeholder="Your signature">
      <!-- Display validation error if the signature is not filled in -->
      <div *ngIf="contentLetterForm.get('signature')?.invalid && contentLetterForm.get('signature')?.touched" class="text-danger">
        Signature is required.
      </div>
    </div>

    <!-- Draft Indicator -->
    <div class="form-group form-check">
      <input type="checkbox" id="draft" class="form-check-input" formControlName="draft">
      <label for="draft" class="form-check-label">Save as Draft</label>
    </div>

    <!-- Buttons for Saving and Submitting -->
    <div class="form-group">
      <!-- Save Button -->
      <button type="button" class="btn btn-warning" (click)="saveDraft()" [disabled]="!isChanged">
        Save Draft
      </button>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary" [disabled]="contentLetterForm.invalid">
        Submit Letter
      </button>


    </div>

    <!-- Navigation Buttons -->
    <div class="form-group">
      <button type="button" class="btn btn-secondary" (click)="navigateToList()">Back to List</button>
    </div>
  </form>

  <!-- If the form is not available, show an error message -->
  <div *ngIf="!contentLetterForm">
    <p class="text-danger">Form is not available. Please try again later.</p>
  </div>
</div>
</div>
